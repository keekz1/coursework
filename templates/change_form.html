{% extends "admin/change_form.html" %}

{% block content %}
  <div id="content-main">
    <form{{ form.media }} action="" method="post" id="{{ opts.model_name }}_form" novalidate>{% csrf_token %}
    {% if form.non_field_errors %}
      <ul class="errorlist nonfield">
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
      </ul>
    {% endif %}
    <fieldset class="module aligned">
      <div class="form-row">
        <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
        {{ form.username }}
      </div>
      <!-- Repeat the same pattern for other fields -->
      
      <!-- Custom logic for Staff Status -->
      <div class="form-row">
        <label for="{{ form.is_staff.id_for_label }}">{{ form.is_staff.label }}</label>
        {% if form.instance.is_active and form.instance.is_staff %}
          <img src="{% static 'admin/img/icon-yes.svg' %}" alt="Yes" />
        {% else %}
          <img src="{% static 'admin/img/icon-no.svg' %}" alt="No" />
        {% endif %}
      </div>
      
      <!-- Include other fields as needed -->
    </fieldset>
    <!-- Include other form elements -->
    </form>
  </div>
{% endblock %}
