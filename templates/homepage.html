{% load static %} 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rent & HIRE</title>

    <link rel="stylesheet" href="{% static 'css/sSUnified.css' %}">

    <style>
        /* Add your CSS styles here for the new item container */
        .item-container {
            width: calc(25% - 20px); /* Set the width of each container to fit 4 columns with margin */
            height: 350px; /* Set fixed height for container */
            margin: 10px; /* Add margin for spacing between items */
            border: 1px solid #eaeaea; /* Add border */
            border-radius: 8px; /* Add border radius for rounded corners */
            overflow: hidden; /* Hide overflow */
            transition: all 0.3s ease-in-out; /* Add smooth transition effect */
            float: left; /* Float containers to align them */
        }
        
        .item-container:hover {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); /* Add box-shadow on hover */
        }
        
        .item-container img {
            width: 100%; /* Set the width of the image to 100% of the container */
            height: 200px; /* Set fixed height for image */
            object-fit: cover; /* Maintain aspect ratio and cover container */
            border-radius: 8px; /* Make image corners rounded */
        }
        
        .item-details {
            padding: 10px; /* Add padding for details */
        }

        .item-details h5 {
            font-size: 16px; /* Adjust font size for item name */
            color: #333; /* Set color for item name */
            margin-bottom: 5px; /* Add bottom margin for spacing */
        }

        .item-details p {
            font-size: 14px; /* Adjust font size for other details */
            color: #666; /* Set color for other details */
            margin-bottom: 5px; /* Add bottom margin for spacing */
        }
    </style>


</head>
<body>

  <!--Com3). ↓The nav Bar↓-->
 
<!-- Com4).↓ this is the call element for the menu↓-->
<div class="stacisFrame">

    <div class="logoFrame"><span onclick="openNav()"><img src="{% static 'img/logo.png' %}" alt="logo" class="logo"></span></div>
        <!--↑ end of Com4). ↑-->
    <div class="Frame3">
        <div class="SearchFrame">
            <span onclick="toggleSearchWindow()">
                <a href="" target="iframe_a"></a>
                <svg xmlns="http://www.w3.org/2000/svg" height="42" width="40.25" viewBox="0 0 512 512">
                    <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/>
                </svg>
            </span>
        </div>

        
        <div class="MenuHomeFrame">
            <span onclick="toggleNav()">&#9776;
            </span>
        </div>

        <div class="CartFrame">
            <span onclick="openItemWindow()">
                <a href="/CodeBank/FunctionalityPages/HTML/BookingPage.html" >
                    <svg xmlns="http://www.w3.org/2000/svg"  height="42" width="40.25" viewBox="0 0 576 512">
                        <path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/>
                    </svg>
                </a>
            </span>
        </div>
    </div>

    <div class="ProfileFrame">
        <span onclick="openNav()">
            <a href="/CodeBank/UserPages/HTML/profilePage.html">
                <img src="{% static 'img/avatar.png' %}" alt="Avatar" class="avatar">
            </a>
        </span>
    </div>
        <!--↑ end of Com3). ↑-->
</div>

    <div class="backgroundImage"  >
        <img src={% static 'img/background.PNG' %} id="background" >
    </div>
    <div class="spacerFrame"></div>
    
        <!--pop out menu-->
    <div id="mySearchWindow" class="linkWindow">
        <form class="d-flex" method=POST action="{% url 'Search_Engine' %}" >{% csrf_token %}
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="searched">
            <button class="butt2" type="submit">Search</button>
        </form>
    </div>
    <div id="myItemWindow" class="siteMapWindow">
        <a href="javascript:void(0)" class="closebtn" onclick="closeItemWindow()">&times;</a>
    </div>

    <div id="mySidenav" class="navBar">
        {% block MenuPullout %}
        <div><a href="/login" class="navbar-button">Login</a></div>
        <div><a href="/register" class="navbar-button">Signup</a></div>
        <div><a href="#" onclick="toggleSearchWindow()">Search</a></div>
        <div><a href="#" onclick="openItemWindow()">Cart</a></div>
        {% endblock MenuPullout %}
        
    </div>

    <div class="container">
        <div class="row">
            {% for item in items %}
            <div class="col-md-3">
                <div class="item-container">
                    <img src="{{ item.image.url }}" class="img-fluid item-image" alt="{{ item.name }}">
                    <div class="item-details">
                        <h5>{{ item.name }}</h5>
                        <p>Type: {{ item.type }}</p>
                        <p>Description: {{ item.description }}</p>
                        {% if item.rental_period %}
                        <p>Rental Period: {{ item.rental_period }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

{% block content %}


<!--page content-->


{% endblock %}
<!--↑ ↑-->
<!--script for pop out menu-->
    <script>
        function toggleNav() {
            var element = document.getElementById("mySidenav");
            if (element.style.width == "15vw") {
                element.style.width = "0";
            } else {
                element.style.width = "15vw";
            }
        }

        function openItemWindow() {
            var i = 0;
            while(i == 0){
                if (document.getElementById("mySearchWindow").style.width =="85vw"){
                    closeWindow();
                }else{
                closeNav();
                document.getElementById("myItemWindow").style.height = "80vh";
                var iframe = document.createElement("iframe");
                iframe.src = "demo_iframe.htm";
                iframe.name ="iframe_a";
                iframe.id = "siteMapFrame";
                iframe.height = "0";
                iframe.width = "0";
                iframe.title="Iframe Example"
                document.getElementById("myItemWindow").appendChild(iframe);
                document.getElementById("siteMapFrame").style.width = "100vw";
                document.getElementById("siteMapFrame").style.height = "80vh";
                i++
                }
            }
        }

        function closeItemWindow() {
            var iframes = document.querySelectorAll('iframe');
            for (var i = 0; i < iframes.length; i++) {
            iframes[i].parentNode.removeChild(iframes[i]);
            }    
            document.getElementById("myItemWindow").style.height = "0";

        }        

        
        function toggleSearchWindow() {
            var element = document.getElementById("mySearchWindow");
            if (element.style.height == "8vw") {
                element.style.height = "0";
            } else {
                element.style.height = "8vw";
            }
        }
</script>
    
</body>
</html>
